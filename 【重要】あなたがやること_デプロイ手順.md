# 🚀 通所介護管理システム - 本番環境デプロイ手順書

## 📋 事前確認
- ✅ 独自ドメイン: `carenavi.site` (SSL認証済み)
- ✅ エックスサーバーアカウント準備完了
- ✅ データベースダンプファイル作成完了

---

## 🎯 あなたがやること（順番通りに進めてください）

### 🔥 ステップ1: FTPソフトの準備
1. **FileZillaをダウンロード**（無料）
   - https://filezilla-project.org/
   - または他のFTPソフト（WinSCP、FFFTPなど）

2. **FTP接続設定**
   ```
   ホスト名: xs752086.xsrv.jp
   ユーザー名: adomin@xs752086.xsrv.jp
   パスワード: adominist321655468
   ポート: 21
   ```

---

### 🔥 ステップ2: ファイルのアップロード

#### 📂 アップロード先ディレクトリ
```
/home/xs752086/carenavi.site/public_html/
```
**⚠️重要**: `carenavi.site` のpublic_htmlフォルダに直接アップロードしてください

#### 📁 アップロードが必要なファイル・フォルダ
`C:\xampp\htdocs\DayCare.app\daycare\` から以下をアップロード：

**必須フォルダ:**
- ✅ `app/` フォルダ（全体）
- ✅ `bootstrap/` フォルダ（全体）
- ✅ `config/` フォルダ（全体）
- ✅ `database/` フォルダ（全体）
- ✅ `public/` フォルダ（全体）
- ✅ `resources/` フォルダ（全体）
- ✅ `routes/` フォルダ（全体）
- ✅ `storage/` フォルダ（全体）
- ✅ `vendor/` フォルダ（全体）

**必須ファイル:**
- ✅ `.env` （設定済み）
- ✅ `artisan`
- ✅ `composer.json`
- ✅ `composer.lock`

#### ⏰ 推定アップロード時間
- 約15-30分（インターネット速度による）

---

### 🔥 ステップ3: ファイル権限の設定

FTPソフトで以下のフォルダを右クリック → 「ファイル属性」または「chmod」を選択：

```
storage/ → 755 に設定
storage/logs/ → 755 に設定
storage/framework/ → 755 に設定
storage/framework/cache/ → 755 に設定
storage/framework/sessions/ → 755 に設定
storage/framework/views/ → 755 に設定
bootstrap/cache/ → 755 に設定
```

**📝 権限設定の方法:**
1. フォルダを右クリック
2. 「ファイル属性」を選択
3. 数値で `755` を入力（または所有者:読み書き実行、グループ:読み実行、その他:読み実行にチェック）

---

### 🔥 ステップ4: データベースの設定

#### 4-1. phpMyAdminにアクセス
1. エックスサーバーのサーバーパネルにログイン
2. 「phpMyAdmin」をクリック
3. データベース `xs752086_daycare` を選択

#### 4-2. データベースのインポート
1. 「インポート」タブをクリック
2. 「ファイルを選択」をクリック
3. `C:\xampp\htdocs\DayCare.app\daycare_production_dump.sql` を選択
4. 「実行」ボタンをクリック

---

### 🔥 ステップ5: 動作確認

#### 5-1. サイトにアクセス
ブラウザで `https://carenavi.site` にアクセス

#### 5-2. 確認ポイント
- ✅ サイトが表示される（エラーが出ない）
- ✅ HTTPSでアクセスできる（鍵マークが表示される）
- ✅ ログイン画面が表示される

---

## 🆘 トラブルシューティング

### 🚨 「500 Internal Server Error」が出る場合
1. **権限設定を再確認**
   - `storage/` と `bootstrap/cache/` の権限が755になっているか
2. **エラーログを確認**
   - FTPで `storage/logs/laravel.log` をダウンロードして確認

### 🚨 「データベース接続エラー」が出る場合
1. `.env` ファイルの設定を再確認
2. データベースが正しくインポートされているかphpMyAdminで確認

### 🚨 「ページが見つかりません」が出る場合
1. `public/` フォルダの中身が正しくアップロードされているか確認
2. `.htaccess` ファイルがアップロードされているか確認

---

## 📞 サポート
問題が発生した場合は、以下の情報をお教えください：
1. どのステップで問題が発生したか
2. 表示されたエラーメッセージ
3. ブラウザのスクリーンショット

---

## 🎉 完了後
すべて完了したら、`https://carenavi.site` で通所介護管理システムが利用できます！